var t=require("wtc-math"),i=0;function e(t){return"__private_"+i+++"_"+t}function r(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var n=e("grid"),o=e("size"),s=e("cellSize"),l=function(){function i(e){Object.defineProperty(this,n,{writable:!0,value:[]}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),e=Object.assign({},i.defaults,e),r(this,o)[o]=t.Vec2.interpolate(e.size)||i.defaults.size,r(this,s)[s]=t.Vec2.interpolate(e.cellSize)||i.defaults.cellSize,r(this,n)[n].length=this.gridSize.area,r(this,n)[n].fill(e.fill||i.defaults.fill)}var e,l=i.prototype;return l.addChild=function(t,i){r(this,n)[n][i]=t},l.addChildAtPosition=function(t,i){r(this,n)[n][this.getArrayPosition(i)]=t},l.addChildAtGridPosition=function(t,i){r(this,n)[n][this.getArrayPositionFromGridPos(i)]=t},l.getChild=function(t){return r(this,n)[n][t]},l.getChildAtPosition=function(t){return r(this,n)[n][this.getArrayPosition(t)]},l.getChildAtGridPosition=function(t){return r(this,n)[n][this.getArrayPositionFromGridPos(t)]},l.getGridPositionForIndex=function(i){var e=this.gridSize;return new t.Vec2(i%e.x,Math.floor(i/e.x))},l.getArrayPositionFromGridPos=function(t){var i=this.gridSize;return t.x<0||t.x>=i.x||t.y<0||t.y>=i.y?null:(t.x=t.x%i.x,t.x+t.y*i.x)},l.getArrayPosition=function(t){var i=this.getGridPos(t);return this.getArrayPositionFromGridPos(i)},l.getGridPos=function(i){if(i instanceof t.Vec2)return i.divideNew(r(this,s)[s]).floor()},l.getSubPos=function(i){if(i instanceof t.Vec2)return i.modNew(r(this,s)[s])},l.getRealPos=function(i){if(i instanceof t.Vec2)return i.multiplyNew(r(this,s)[s])},(e=[{key:"size",get:function(){return r(this,o)[o]}},{key:"gridSize",get:function(){return r(this,o)[o].divideNew(r(this,s)[s]).floor()}},{key:"cellSize",get:function(){return r(this,s)[s]}},{key:"length",get:function(){return r(this,n)[n].length}}])&&function(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(i.prototype,e),i}();l.defaults={size:new t.Vec2(512,512),cellSize:new t.Vec2(50,50),fill:null},exports.Grid=l;
//# sourceMappingURL=index.js.map
